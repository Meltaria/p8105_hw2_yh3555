p8105_hw2_yh3555
================
Yuchen Hua
2022-10-01

``` r
library(tidyverse)
library(haven)
library(dplyr)
library(readxl)
library(tidyr)
```

## Problem 1

Read the dataset and retain the variables.

``` r
nyc_trans =
  read_csv(
    "./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv", 
    col_types = cols(Route8 = "c", Route9 = "c", Route10 = "c", Route11 = "c")) %>%
    janitor::clean_names() %>%
    select(
      line, station_name, station_latitude, station_longitude, starts_with("routes"), 
      entry, exit_only, vending, entrance_type, ada) %>%
    mutate(entry = ifelse(entry == "YES", TRUE, FALSE))
```

To find distinct stations.

``` r
nyc_trans %>%
  select(station_name, line) %>%
  distinct
## # A tibble: 465 × 2
##    station_name             line    
##    <chr>                    <chr>   
##  1 25th St                  4 Avenue
##  2 36th St                  4 Avenue
##  3 45th St                  4 Avenue
##  4 53rd St                  4 Avenue
##  5 59th St                  4 Avenue
##  6 77th St                  4 Avenue
##  7 86th St                  4 Avenue
##  8 95th St                  4 Avenue
##  9 9th St                   4 Avenue
## 10 Atlantic Av-Barclays Ctr 4 Avenue
## # … with 455 more rows
```

To find ADA-compliant stations.

``` r
nyc_trans %>%
  filter(ada == TRUE ) %>%
  select(station_name, line) %>%
  distinct
## # A tibble: 84 × 2
##    station_name                   line           
##    <chr>                          <chr>          
##  1 Atlantic Av-Barclays Ctr       4 Avenue       
##  2 DeKalb Av                      4 Avenue       
##  3 Pacific St                     4 Avenue       
##  4 Grand Central                  42nd St Shuttle
##  5 34th St                        6 Avenue       
##  6 47-50th Sts Rockefeller Center 6 Avenue       
##  7 Church Av                      6 Avenue       
##  8 21st St                        63rd Street    
##  9 Lexington Av                   63rd Street    
## 10 Roosevelt Island               63rd Street    
## # … with 74 more rows
```

To compuate entrance/ exist without vending allowing entrance.

``` r
nyc_trans %>%
  filter(vending == "NO") %>%
  pull(entry) %>%
  mean
## [1] 0.3770492
```

## Problem 2

To take a look at the the sheets in the excel file.

``` r
excel_sheets("./data/Trash Wheel Collection Data.xlsx")
## [1] "Mr. Trash Wheel"       "Professor Trash Wheel" "Captain Trash Wheel"  
## [4] "Gwynnda Trash Wheel"   "Homes powered note"
```

``` r
wheel_data = read_excel("./data/Trash Wheel Collection Data.xlsx", 
                        sheet = "Mr. Trash Wheel")
```

``` r
wheel_data
## # A tibble: 548 × 16
##    Dumpster Month Year  Date                Weight (to…¹ Volum…² Plast…³ Polys…⁴
##       <dbl> <chr> <chr> <dttm>                     <dbl>   <dbl>   <dbl>   <dbl>
##  1        1 May   2014  2014-05-16 00:00:00         4.31      18    1450    1820
##  2        2 May   2014  2014-05-16 00:00:00         2.74      13    1120    1030
##  3        3 May   2014  2014-05-16 00:00:00         3.45      15    2450    3100
##  4        4 May   2014  2014-05-17 00:00:00         3.1       15    2380    2730
##  5        5 May   2014  2014-05-17 00:00:00         4.06      18     980     870
##  6        6 May   2014  2014-05-20 00:00:00         2.71      13    1430    2140
##  7        7 May   2014  2014-05-21 00:00:00         1.91       8     910    1090
##  8        8 May   2014  2014-05-28 00:00:00         3.7       16    3580    4310
##  9        9 June  2014  2014-06-05 00:00:00         2.52      14    2400    2790
## 10       10 June  2014  2014-06-11 00:00:00         3.76      18    1340    1730
## # … with 538 more rows, 8 more variables: `Cigarette Butts` <dbl>,
## #   `Glass Bottles` <dbl>, `Grocery Bags` <dbl>, `Chip Bags` <dbl>,
## #   `Sports Balls` <dbl>, `Homes Powered*` <dbl>, ...15 <lgl>, ...16 <lgl>, and
## #   abbreviated variable names ¹​`Weight (tons)`, ²​`Volume (cubic yards)`,
## #   ³​`Plastic Bottles`, ⁴​Polystyrene
```

## Problem 3

Import the data

``` r
pols_month = 
  read_csv("./data/pols-month.csv")
```

Seperate the the columns

``` r
separate(pols_month, col = mon, into = c('year', 'month', 'day'))
## # A tibble: 822 × 11
##    year  month day   prez_gop gov_gop sen_gop rep_gop prez_dem gov_dem sen_dem
##    <chr> <chr> <chr>    <dbl>   <dbl>   <dbl>   <dbl>    <dbl>   <dbl>   <dbl>
##  1 1947  01    15           0      23      51     253        1      23      45
##  2 1947  02    15           0      23      51     253        1      23      45
##  3 1947  03    15           0      23      51     253        1      23      45
##  4 1947  04    15           0      23      51     253        1      23      45
##  5 1947  05    15           0      23      51     253        1      23      45
##  6 1947  06    15           0      23      51     253        1      23      45
##  7 1947  07    15           0      23      51     253        1      23      45
##  8 1947  08    15           0      23      51     253        1      23      45
##  9 1947  09    15           0      23      51     253        1      23      45
## 10 1947  10    15           0      23      51     253        1      23      45
## # … with 812 more rows, and 1 more variable: rep_dem <dbl>
```

Clean up the the data in snp.csv

``` r
snp = 
  read_csv("./data/snp.csv")
```

Clean up the Unemployment data

``` r
Unemp = 
  read_csv("./data/unemployment.csv")
```
